<!doctype html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1">

        <meta name="description" content="Yogures de Antaño - Saborea el auténtico Yogur Casero con nuestros fermentos tradicionales.">
        <meta name="keywords" content="yogures, tradicion, tradicionales, yogur, fermentos">
        <meta name="author" content="David Guerrero Cabrerizo">

        <title>Yogures de Antaño</title>

        <!-- CSS FILES -->
        <link rel="preconnect" href="https://fonts.googleapis.com">

        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>

        <link href="https://fonts.googleapis.com/css2?family=Inter:wght@100;300;400;700;900&display=swap" rel="stylesheet">

        <link rel="icon" href="images/Favicon.ico" type="image/x-icon">
        <link rel="shortcut icon" href="images/Favicon.ico" type="image/x-icon">

        <link href="css/slick.css" rel="stylesheet">
        <link href="css/animate.css" rel="stylesheet">
        <link href="css/bootstrap.min.css" rel="stylesheet">
        <link href="css/bootstrap-icons.css" rel="stylesheet">

        <link href="css/tooplate-little-fashion.css" rel="stylesheet">



        <script src="js/cart.js"></script>
        <script src="js/misc.js"></script>
    </head>
    
    <body>
    
        <main>
            <style>
                .container2 {
                    position: relative;
                    display: inline-block;
                }

                .item-count {
                    position: absolute;
                    bottom: 45px; /* Ajusta la posición vertical según tu diseño */
                    right: 4px; /* Ajusta la posición horizontal según tu diseño */
                    background-color: brown; /* Cambia a marrón u otro color según tu preferencia */
                    color: white;
                    border-radius: 50%;
                    width: 15px; /* Ajusta el tamaño del círculo */
                    height: 15px; /* Ajusta el tamaño del círculo */
                    text-align: center;
                    font-size: 10px; /* Ajusta el tamaño de la fuente */
                }

                .custom-modal {
                    display: none;
                    position: fixed;
                    top: 0;
                    left: 0;
                    width: 100%;
                    height: 100%;
                    background-color: rgba(0, 0, 0, 0.5);
                    z-index: 10000
                }
                .custom-modal-content {
                    display: flex;
                    background-color: #fff;
                    width: 30%;
                    margin: 100px auto;
                    padding: 20px;
                    text-align: center;
                    border-radius: 5px;
                    box-shadow: 0 15px 10px rgba(255, 255, 255, 0.2); ;
                }
                
                .background {
                    height: 100vh;
                }

                @media screen and (max-width: 768px) {
                    .custom-modal-content {
                        width: 70%;
                    }
                }

                label {
                    display: flex;
                }
                .hidden {
                   opacity: 0;
                   transform: translateX(100%);
                }
                .divCarroussel {
                    transition: all 0.5s ease-in-out;
                    flex: 0 0 100%;   
                }

            </style>
            <nav class="navbar navbar-expand-lg">
                <div class="container">
                    <a class="navbar-brand" href="index>
                        <img class="logo" src="images/Logo.png">
                    </a>
                    <div class="d-lg-none">
                        <a href="carrito class="bi-bag custom-icon"></a>
                    </div>
                    <div class="collapse navbar-collapse" id="navbarNav" style="display: block !important;">
                        <div class="d-none d-lg-block" style="text-align: right;">
                            <a href="carrito class="bi-bag custom-icon" style="color:black"></a>
                        </div>
                    </div> 
                </div>
            </nav> 
            <section class="slick-slideshow" style="overflow: hidden;">
                <div class="slick-custom">
                    <img src="images/Yogures-de-antano-Background.jpg" class="img-fluid background" alt="">

                    <div class="slick-bottom">
                        <div class="container">
                            <div class="row">
                                <div class="">
                                    <!-- <h1 class="index" style="color:white">Bienvendo a la tradicion</h1>
                                    <h2 class="index text-primary">Fermentos para Yogur</h2> -->
                                    <!-- <h2 class="slick-title text-primary">Fermentos tradicionales para yogur</h2> -->
                                </div>
                            </div>
                        </div>
                        <div style="padding-top: 2%;position: absolute;bottom: 5%;width: 100%; text-align: center;"> 
                            <div style="display: inline-flex;margin-bottom: 3%; width: 100%; background-color: rgba(195, 155, 124, 0.5);">
                            </div>
                            <a href="productos-de-antaño class="custom-btn">¡HAZ TU YOGUR CASERO HOY!</a>
                        </div>
                    </div>
                </div>

                <!-- Si necesitas añadir mas imagenes, solo añade más slick-custom aquí -->
            </section>

            <section class="about section-padding" id="mejores-fermentos">
                <div class="container">
                    <div class="row">
            
                        <div class="col-10 text-center" style="margin: auto;">
                            <h3 class="mb-3">Los Mejores Fermentos</h3>
                            <h5 style="font-weight:100;margin-bottom:20px;">Descubre la autenticidad de nuestros fermentos
                                tradicionales para yogur. Experimenta el sabor único y los beneficios saludables en cada cucharada.
                            </h5>
                        </div>
                    </div>
                    <div class="row">
                        <div class="text-center feature-left animate-box mt-3" data-animate-effect="fadeInTop">
                            <a href="productos-de-antaño class="custom-btn">¡HAZ TU PROPIO YOGUR CASERO HOY!</a>
                        </div>
                    </div>
                </div>
            </section>

            <section class="featured-product section-padding-little">
                <div class="container">
                    <div class="row" >

                        <div class="col-10 text-center" style="margin: auto;">
                            <h3 class="mb-3">Mi misión</h3>
                            <h5 style="font-weight:50;margin-bottom:20px;">Llevo tomando yogur desde que tengo memoria, de pequeño por su sabor, y ahora también por sus enormes beneficios. Mi objetivo es que podáis hacer los yogures más deliciosos, a un precio muy asequible y solo con dos ingredientes: leche y nuestros fermentos.</p>
                        </div>
                    </div>
                </div>
            </section>

            <section class="about section-padding"> 
                <div class="container">
                    <div class="row">
                        <div class="col-10 text-center" style="margin: auto;">
                            <h3 class="mb-5">¿Por qué hago mis propios yogures?</h3>
                        </div>
                    </div>
                    <div class="row">
                        <div class="col-md-6">
                            <div class="feature-left animate-box" data-animate-effect="fadeInLeft">
                                <span class="icon">
                                    <i class="icon-check"></i>
                                </span>
                                <div class="feature-copy">
                                    <h5>Pasión por el Yogur</h5>
                                    <p>Hacer mis propios yogures en casa no es solo una tradición desde pequeño. Cada yogur es único, y experimentar con nuevos sabores es algo que simplemente me encanta.</p>
                                </div>
                            </div>
        
                            <div class="feature-left animate-box" data-animate-effect="fadeInLeft">
                                <span class="icon">
                                    <i class="icon-check"></i>
                                </span>
                                <div class="feature-copy">
                                    <h5>Es 100% Real</h5>
                                    <p>Al contrario que algunas versiones industriales, haciéndolos en casa evito aditivos, usando solo leche y los propios fermentos*</p>
                                </div>
                            </div>
        
                            <div class="feature-left animate-box" data-animate-effect="fadeInLeft">
                                <span class="icon">
                                    <i class="icon-check"></i>
                                </span>
                                <div class="feature-copy">
                                    <h5>Precios de Antaño</h5>
                                    <p>Con mis <a style="color:var(--primary-color)" title="Una vez hecho el desembolso inicial">fermentos</a>*, cada litro de Yogur me cuesta lo mismo que vale su ingrediente principal: la leche</p>
                                </div>
                            </div>
        
                        </div>
        
                        <!-- <div class="col-md-6">
                            <div class="gtco-video gtco-bg" style="background-image: url(images/img_1.jpg); ">
                                <a href="https://vimeo.com/channels/staffpicks/93951774" class="popup-vimeo"><i class="icon-video2"></i></a>
                                <div class="overlay"></div>
                            </div>
                        </div> -->
                    </div>
                </div>
            </section>
            
            <section class="featured-product section-padding"> 
                <div class="container">
                    <div class="row">
                        
                        <div class="col-12 text-center" id="product-container">
                            <h3 class="mb-5">Nuestros Yogures</h3>
                        </div>
                        <!-- Añadimos todos los productos -->
                        <script> loadProducts('yogur'); </script>
                        <div class="col-12 text-center text-center feature-left animate-box mt-3" data-animate-effect="fadeInTop">
                            <a href="productos-de-antaño class="custom-btn " >Ver todos los productos</a>
                        </div>

                    </div>
                </div>
            </section>

            
            <section class="about section-padding"> 
                <div class="container">
                    <div class="row">
                        
                        <div class="col-12 text-center">
                            <h3 class="mb-5">¡Haz tu yogur en 5 sencillos pasos!</h3>
                        </div>

                        <div class="col-lg-4 col-12 mb-3 feature-left">
                            <div class="step-icon icon">
                                <img src="images/desc-icons/olla-2.png" alt="" width="45" height="45" loading="lazy" style="vertical-align:text-top;"/>
                            </div>
                            <div class="step-info d-flex">
                                <div>
                                    <h5 class="product-title mb-0">Calentar la leche</h5>
                                    <p>Tenemos que calentar la leche en una olla. Con esto haremos que la magia comience.</p>
                                </div>
                            </div>
                        </div>
                        
                        <div class="col-lg-4 col-12 mb-3 feature-left">
                            <div class="step-icon icon">
                                <img src="images/desc-icons/lactobacillus.png" alt="" width="45" height="45" loading="lazy" style="vertical-align:text-top;"/>
                            </div>
                            <div class="step-info d-flex">
                                <div>
                                    <h5 class="product-title mb-0">Usar los fermentos</h5>
                                    <p>Echamos los fermentos, y mezclaremos suavemente. Así empezaremos a hacer nuestros yogur.</p>
                                </div>
                            </div>
                        </div>

                        <div class="col-lg-4 col-12 mb-3 feature-left">
                            <div class="step-icon icon">
                                <img src="images/desc-icons/yogur-3.png" alt="" width="45" height="45" loading="lazy" style="vertical-align:text-top;"/>
                            </div>
                            <div class="step-info d-flex">
                                <div>
                                    <h5 class="product-title mb-0">Llenar los recipientes</h5>
                                    <p>Dividir la mezcla en tarritos, o echarla toda en un recipiente grande. Tendremos que decidir cuanto nos durará nuestro postre.</p>
                                </div>
                            </div>
                        </div>

                        <div class="col-lg-4 col-12 mb-3 feature-left">
                            <div class="step-icon icon">
                                <img src="images/desc-icons/reloj-de-pared.png" alt="" width="45" height="45" loading="lazy" style="vertical-align:text-top;"/>
                            </div>
                            <div class="step-info d-flex">
                                <div>
                                    <h5 class="product-title mb-0">Dejar fermentar</h5>
                                    <p>Con el horno apagado y precalentado a 50ºC, dejamos los recipientes tapados con paños limpios. Esperaremos 6-8h, falta poco.</p>
                                </div>
                            </div>
                        </div>
                        
                        <div class="col-lg-4 col-12 mb-3 feature-left">
                            <div class="step-icon icon">
                                <img src="images/desc-icons/termometro.png" alt="" width="45" height="45" loading="lazy" style="vertical-align:text-top;"/>
                            </div>
                            <div class="step-info d-flex">
                                <div>
                                    <h5 class="product-title mb-0">Enfriar en la nevera</h5>
                                    <p>Llega el peor paso, no comerse el yogur y dejarlo enfriar al menos 2 horas. De esta manera ganará textura y sabor.</p>
                                </div>
                            </div>
                        </div>

                        <div class="col-lg-4 col-12 mb-3 feature-left">
                            <div class="step-icon icon">
                                <img src="images/desc-icons/disfrutando.png" alt="" width="45" height="45" loading="lazy" style="vertical-align:text-top;"/>
                            </div>
                            <div class="step-info d-flex">
                                <div>
                                    <h5 class="product-title mb-0">¿Sexto paso? Disfrutar</h5>
                                    <p>Último y mejor paso, comérnoslo y disfrutar de sus beneficios. No olvidemos guardar un poco para repetir el proceso.</p>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </section>

            

            <section class="featured-product section-padding"> 
                <div class="container">
                    <div class="row">
                        
                        <div class="col-12 text-center">
                            <h3 class="mb-5">¿Por qué Yogures de Antaño?</h3>
                        </div>

                        <div class="col-lg-4 col-12 mb-3">
                            <div class="feature-left">
                                <span class="icon">
                                    <i class="icon-home"></i>
                                </span>
                            </div>
                            <div class="step-info d-flex">
                                <div>
                                    <h6 class="product-title mb-0">Un sabor tradicional y auténtico</h6>
                                    <p>Sabemos que el mejor sabor no existe, pero con Yogures de Antaño podrás hacer unos yogures con el sabor y propiedades tradicionales.</h5>
                                </div>
                            </div>
                        </div>
                        
                        <div class="col-lg-4 col-12 mb-3">
                            <div class="feature-left">
                                <span class="icon">
                                    <i class="icon-infinity"></i>
                                </span>
                            </div>
                            <div class="step-info d-flex">
                                <div>
                                    <h6 class="product-title mb-0">Yogur Ilimitado</h6>
                                    <p>Con nuestros fermentos podrás hacer yogur de manera ilimitada, para que puedas disfrutar de su sabor sin pagar de más por ello.</h5>
                                </div>
                            </div>
                        </div>

                        <div class="col-lg-4 col-12 mb-3">
                            <div class="feature-left">
                                <span class="icon">
                                    <i class="icon-heart"></i>
                                </span>
                            </div>
                            <div class="step-info d-flex">
                                <div>
                                    <h6 class="product-title mb-0">Un toque ecológico</h6>
                                    <p>Traemos los mejores fermentos desde las montañas y prados de Bulgaria, famosa por su delicioso yogur, y promovemos prácticas sostenibles para su cuidado.</h5>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </section>
            <!-- Modal -->
            <div class="custom-modal" id="emailModal">
                <section class="loading" style="display: none !important;">
                    <div class="spinner">
                        <span class="sk-inner-circle"></span>
                    </div>
                </section>
                <div class="custom-modal-content">
                    <div id="datosPreventaDiv" class="divCarroussel" style="width: 100%;height: 100%; display: block;">
                        <h3>Apúntate a la preventa</h3>
                        <form id="datosPreventa" action="#" method="post">

                            <div class="form-floating">
                                <input type="name" name="name" id="name" pattern="[A-Za-z ]+" class="form-control" style="text-align: left;" placeholder="Nombre" required>
                                <label for="name">Nombre</label>
                            </div>

                            <div class="form-floating my-4">
                                <input type="email" name="email" id="email" pattern="[^ @]*@[^ @]*" class="form-control" style="text-align: left;" placeholder="Correo Electrónico">
                                <label for="email">Correo Electrónico</label>
                            </div>

                            <div class="form-floating my-4">
                                <input type="tel" name="telefono" id="telefono" pattern="[0-9]{9}" class="form-control" style="text-align: left;" placeholder="Teléfono">
                                <label for="tel">Teléfono</label>
                            </div>
                            <div class="form-floating" style="text-align:left;">
                                <input type="checkbox" name="consentimientoAviso" required>
                                Acepto que se me notifique a cualquiera de mis <a style="color:var(--primary-color)" title="No haremos uso comercial de estos datos"> contactos</a>*
                            </div>
                            <div class="form-floating mb-3" style="text-align:left;">
                                <input type="checkbox" name="consentimientoComercial" id="consentimientoComercial">
                                Quiero recibir cupones y/o promociones alguna vez
                            </div>
                            <button type="submit" style="background-color:var(--primary-color)" class="form-control mt-lg-3">Enviar</button>
                        </form>
                    </div>
                    <div id="preguntarStockDiv"style="width: 100%;height: 100%;" class="divCarroussel hidden">
                        <h3>¿Que productos quieres?</h3>
                        <form id="preguntarStock" action="#" method="post">


                            <div class="form-floating my-4">
                                <input type="email" name="email" id="email" pattern="[^ @]*@[^ @]*" class="form-control" style="text-align: left;" placeholder="Correo Electrónico">
                                <label for="email">Correo Electrónico</label>
                            </div>

                            <div class="form-floating">
                                <input type="name" name="name" id="name" pattern="[A-Za-z ]+" class="form-control" style="text-align: left;" placeholder="Nombre" required>
                                <label for="name">Nombre</label>
                            </div>

                            <div class="form-floating" style="text-align:left;">
                                <input type="checkbox" name="consentimientoAviso" required>
                                Acepto que se me notifique a cualquiera de mis <a style="color:var(--primary-color)" title="No haremos uso comercial de estos datos"> contactos</a>*
                            </div>
                            <div class="form-floating mb-3" style="text-align:left;">
                                <input type="checkbox" name="consentimientoComercial" id="consentimientoComercial">
                                Quiero recibir cupones y/o promociones alguna vez
                            </div>
                            <button type="submit" style="background-color:var(--primary-color)" class="form-control mt-lg-3">Enviar</button>
                        </form>
                    </div>
                </div>
            </div>

            <script>
                // JavaScript para mostrar el modal al cargar la página
                var emailModal = document.getElementById('emailModal');
                // var closeModalBtn = document.getElementById('closeModalBtn');

                window.addEventListener('load', function() {
                    emailModal.style.display = 'block';
                });

                window.addEventListener('load', function() {
                // Verifica si el parámetro "desactivar" está presente en la URL
                var params = new URLSearchParams(window.location.search);
                if (params.has('preventa') && params.get('preventa') === 'false') {
                    emailModal.style.display = 'none'; // Cierra el modal si está presente el parámetro
                } else {
                    emailModal.style.display = 'block'; // Muestra el modal por defecto
                }
            });

                // closeModalBtn.addEventListener('click', function() {
                //     emailModal.style.display = 'none';
                // });
            </script>
            <script>
                // Validador de datos e integración con Zoho CRM
                const datosPreventa = document.getElementById('datosPreventa');
                datosPreventa.addEventListener('submit', async function(event) {
                    // Evita que el formulario se envíe automáticamente
                    event.preventDefault();
                    
                    if (validarDatosPreventa(datosPreventa)) {
                        try {
                            await crearLeadZohoCRM();
                            alert('Datos registrados correctamente. Se te notificará cuando se abra la web.');
                            datosPreventa.reset();
                            // preguntarProductos();
                        } catch (error) {
                            console.error('Error en la petición:', error);
                            alert('Hubo un error en la petición. Por favor, contáctenos por WhatsApp o teléfono. Gracias por su comprensión.');
                        }
                        const preloader = document.querySelector('.loading');
                        preloader.style.display = 'none';
                    }
                });


            function validarDatosPreventa(){
                var emailInput = document.getElementById('email');
                var telefonoInput = document.getElementById('telefono');
                var emailValue = emailInput.value.trim();
                var telefonoValue = telefonoInput.value.trim();

                // Verificar si al menos uno de los campos está relleno
                if (emailValue === '' && telefonoValue === '') {
                    alert('Por favor, rellena al menos uno de los campos (email o teléfono).');
                    return false;
                }
                return true;
            }

            async function crearLeadZohoCRM() {
                try {
                    //Mostrar Spinner
                    const preloader = document.querySelector('.loading');
                    preloader.style.display = 'flex';
                    // Obtiene los valores de los campos del formulario
                    const nombreCompleto = document.getElementById("name").value;
                    const nombre = nombreCompleto.includes(" ") ? nombreCompleto.split(" ")[0] : nombreCompleto;
                    const apellido = nombreCompleto.includes(" ") ? nombreCompleto.split(" ").slice(1).join(" ") : "-";
                    // const apellido = "-"; //document.getElementById("name").value;
                    // const nombre = document.getElementById("name").value;
                    const email = document.getElementById("email").value;
                    const telefono = document.getElementById("telefono").value;
                    const consentimientoComercial = document.getElementById("consentimientoComercial").checked ? "Si" : "No";
                    // Estructura los datos en el formato requerido
                    const lead = {
                        lead: {
                            Last_Name: apellido,
                            First_Name: nombre,
                            Email: email,
                            Phone: telefono,
                            Consentimiento_Comercial: consentimientoComercial,
                            Lead_Source: "Preventa Web"
                        }
                    };
                    // http://127.0.0.1:3000/zoho/insertLead
                    const response = await fetch('https://stripe-integration-n0er.onrender.com/zoho/insertLead', {
                        method: 'POST',
                        headers: {
                            "Content-Type": "application/json",
                        },
                        body: JSON.stringify(lead)
                    });

                    const data = await response.json();

                    if (response.ok) {
                        console.log(data);
                        return data;
                    } else {
                        console.error(data);
                        throw new Error(data.message || "Error en la solicitud al servidor");
                    }
                } catch (error) {
                    console.error(error);
                    throw error; // Devuelve el error para que pueda ser manejado por el código que llama a esta función
                }
            }

            function preguntarProductos() {
                const formularioActual = document.getElementById("datosPreventaDiv");
                const nuevoFormulario = document.getElementById("preguntarStockDiv");
                // Aquí puedes procesar los datos del formulario actual si es necesario

                // Muestra el nuevo formulario
                formularioActual.style.opacity = 0;
                formularioActual.style.transform = "translateX(-100%)";
                // Reinicia la posición del formulario actual
                nuevoFormulario.style.opacity = 1;
                nuevoFormulario.style.transform = "translateX(-100%)";
            }

            </script>

        </main>

        <footer class="site-footer">
            <script>loadFooter()</script>
        </footer>

        <!-- JAVASCRIPT FILES -->
        <script src="js/jquery.min.js"></script>
        <script src="js/jquery.waypoints.min.js"></script>
        <script src="js/bootstrap.bundle.min.js"></script>
        <script src="js/Headroom.js"></script>
        <script src="js/jQuery.headroom.js"></script>
        <script src="js/slick.min.js"></script>
        <script src="js/custom.js"></script>

    </body>
</html>
