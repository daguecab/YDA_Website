<!doctype html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="description" content="">
        <meta name="author" content="">

        <title>Yogures de Antaño - Categorías de Productos</title>

        <!-- CSS FILES -->
        <link rel="preconnect" href="https://fonts.googleapis.com">
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link href="https://fonts.googleapis.com/css2?family=Inter:wght@100;300;400;700;900&display=swap" rel="stylesheet">
        <link rel="icon" href="images/Favicon.ico" type="image/x-icon">

        <link href="css/bootstrap.min.css" rel="stylesheet">
        <link href="css/bootstrap-icons.css" rel="stylesheet">
        <link href="css/animate.css" rel="stylesheet">
        <link href="css/tooplate-little-fashion.css" rel="stylesheet">
        <link href="css/slick.css" rel="stylesheet">

        <script src="js/cart.js"></script>
        <script src="js/misc.js"></script>
    </head>
    
    <body>
        <main>
            <nav class="pageProducto navbar navbar-expand-lg">
                <div class="container">
                    <a class="navbar-brand" href="index.html">
                        <img class="logo" src="images/Logo.png">
                    </a>
                    <div class="d-lg-none">
                        <a href="carrito.html" class="bi-bag custom-icon"></a>
                    </div>
                    <div class="collapse navbar-collapse" id="navbarNav" style="display: block !important;">
                        <div class="d-none d-lg-block" style="text-align: right;">
                            <a href="carrito.html" class="bi-bag custom-icon" style="color:black"></a>
                        </div>
                    </div>
                </div>
            </nav>

            <header style="padding:2rem; text-align: center;" class="site-header section-padding d-flex justify-content-center align-items-center">
                <div class="container">
                    <div class="row">
                        <div class="col-12">
                            <h1>
                                <span class="d-block">Categorías de Productos</span>
                            </h1>
                        </div>
                    </div>
                </div>
            </header>

            <section class="featured-product section-padding">
                <div class="container">
                    <div class="row text-center" id="categories-container">
                        <!-- Las categorías se generarán aquí dinámicamente -->
                    </div>
                </div>
            </section>
        </main>

        <footer class="site-footer">
            <script>loadFooter()</script>
        </footer>

        <!-- JAVASCRIPT FILES -->
        <script src="js/jquery.min.js"></script>
        <script src="js/jquery.waypoints.min.js"></script>
        <script src="js/bootstrap.bundle.min.js"></script>
        <script src="js/Headroom.js"></script>
        <script src="js/jQuery.headroom.js"></script>
        <script src="js/slick.min.js"></script>
        <script src="js/custom.js"></script>

        <!-- Script para cargar categorías desde JSON externo -->
        <script>
            function loadCategories() {
                const container = document.getElementById("categories-container");

                // Fetch del archivo categorias.json
                fetch('categorias.json')
                    .then(response => {
                        if (!response.ok) {
                            throw new Error("No se pudo cargar el archivo de categorías");
                        }
                        return response.json();
                    })
                    .then(categories => {
                        categories.forEach(category => {
                            const categoryHTML = `
                                <div class="col-md-4 mb-4">
                                    <a href="${category.url}" class="category-link">
                                        <div class="card">
                                            <img src="${category.image}" class="card-img-top" alt="${category.name}">
                                            <div class="card-body">
                                                <h5 class="card-title">${category.name}</h5>
                                            </div>
                                        </div>
                                    </a>
                                </div>
                            `;
                            container.innerHTML += categoryHTML;
                        });
                    })
                    .catch(error => {
                        console.error("Error al cargar categorías:", error);
                        container.innerHTML = "<p>Error al cargar las categorías. Por favor, inténtalo más tarde.</p>";
                    });
            }

            loadCategories();
        </script>
    </body>
</html>